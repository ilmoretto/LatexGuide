<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>M√≥dulo 6 ‚Äî Aula 22: O Poder das Macros ‚Äî Automatizando seu Trabalho com \newcommand</title>
  <link rel="icon" href="../../assets/img/logo.svg" type="image/svg+xml">
  <link rel="stylesheet" href="../../assets/css/themes.css">
  <link rel="stylesheet" href="../../assets/css/components.css">
  <link rel="stylesheet" href="../../assets/css/modules/modulo-06.css">
</head>
<body>
  <header class="topbar">
    <button id="sidebarToggle" class="icon-btn" aria-label="Abrir menu" aria-expanded="false" aria-controls="sidebar">‚ò∞</button>
    <div class="brand">
      <img src="../../assets/img/logo.svg" alt="" class="brand__logo">
      <span class="brand__title" id="courseTitle">Curso de LaTeX</span>
    </div>
    <button id="themeToggle" class="theme-toggle" aria-label="Alternar tema">
      <span class="theme-icon">üåô</span>
      <span class="theme-text">Escuro</span>
    </button>
  </header>
  <aside id="sidebar" class="sidebar" aria-label="Menu lateral"></aside>
  <div class="layout">
    <main class="content">
      <nav id="breadcrumbs" class="breadcrumbs" aria-label="Trilha de navega√ß√£o"></nav>
      <article class="page">
        <header class="lesson-header">
          <h1>Aula 22: O Poder das Macros ‚Äî Automatizando seu Trabalho com \newcommand</h1>
          <p>Crie seus pr√≥prios comandos para ganhar produtividade, consist√™ncia e manutenibilidade.</p>
        </header>
        <details class="functionality-showcase toc-nav" aria-label="Neste cap√≠tulo">
          <summary><strong>Neste cap√≠tulo</strong></summary>
          <div class="toc-content">
            <ul>
              <li><a href="#prereqs-title">Pr√©-requisitos</a></li>
              <li><a href="#intro-ampliada">Introdu√ß√£o ampliada</a></li>
              <li><a href="#learning-objectives">Objetivos de aprendizado</a></li>
              <li><a href="#sec-por-que-dry">Por que macros? DRY</a></li>
              <li><a href="#sec-problema-repeticao">O problema da repeti√ß√£o manual</a></li>
              <li><a href="#sec-1-newcommand">1) \newcommand ‚Äî Crie seus pr√≥prios comandos</a></li>
              <li><a href="#sec-2-args">2) Argumentos ‚Äî Flexibilizando seus comandos</a></li>
              <li><a href="#sec-3-spacing">3) Espa√ßamento ap√≥s comandos ‚Äî armadilha comum</a></li>
              <li><a href="#sec-4-renew-provide">4) \renewcommand e \providecommand ‚Äî quando usar</a></li>
              <li><a href="#sec-5-erros">5) Erros comuns (e como resolver)</a></li>
              <li><a href="#sec-6-exercicios">6) Exerc√≠cios sugeridos</a></li>
              <li><a href="#sec-7-encerramento">7) Encerramento</a></li>
              <li><a href="#sec-8-avaliacao">8) Avalia√ß√£o r√°pida</a></li>
              <li><a href="#sec-9-pratica">9) Pr√°tica r√°pida</a></li>
            </ul>
          </div>
        </details>

        <!-- PR√â-REQUISITOS (de m√≥dulos 1‚Äì5, j√° ensinados) -->
        <section class="module-overview" aria-labelledby="prereqs-title">
          <h2 id="prereqs-title" class="text-accent-primary" style="margin-top:0">Pr√©-requisitos</h2>
          <ul>
            <li>Estrutura m√≠nima de um documento: <code>\documentclass</code>, pre√¢mbulo e <code>\begin{document}...\end{document}</code>.</li>
            <li>Comandos b√°sicos e hierarquia de se√ß√µes: <code>\section</code>, <code>\subsection</code>, etc.</li>
            <li>Formata√ß√£o essencial de texto: <code>\textbf</code>, <code>\textit</code>, <code>\emph</code>, <code>\texttt</code>.</li>
            <li>Uso de pacotes comuns (quando necess√°rio): <code>amsmath</code>/<code>amssymb</code> para s√≠mbolos matem√°ticos.</li>
            <li>No√ß√µes de refer√™ncias cruzadas e etiquetas (para exerc√≠cios que citam \ref).</li>
          </ul>
        </section>

        <!-- OBJETIVOS APROFUNDADOS (ACRESCENTADO) -->
        <section class="theory-box">
          <h2 id="intro-ampliada" class="text-accent-primary" style="margin-top:0">Introdu√ß√£o √†s Macros ‚Äî vis√£o ampliada</h2>
          <p><strong>Ao final desta li√ß√£o detalhada, voc√™ ser√° capaz de:</strong></p>
          <ul>
            <li>Compreender profundamente o conceito de macro e a filosofia DRY ("N√£o se Repita").</li>
            <li>Criar, com confian√ßa, novos comandos para automatizar a inser√ß√£o de texto e s√≠mbolos.</li>
            <li>Entender a diferen√ßa cr√≠tica entre <code>\newcommand</code>, <code>\renewcommand</code>, e <code>\providecommand</code>.</li>
            <li>Dominar a solu√ß√£o para o problema de espa√ßamento que ocorre ap√≥s novos comandos.</li>
            <li>Diagnosticar e corrigir os erros mais comuns relacionados √† defini√ß√£o de macros.</li>
          </ul>
          <p class="text-muted" style="margin:.5rem 0 0">Pr√©-requisitos: Conhecimento s√≥lido dos M√≥dulos 1 a 5; um projeto Overleaf ou editor LaTeX local pronto para uso.</p>
        </section>

        <section class="theory-box">
          <h2 id="learning-objectives" class="text-accent-primary" style="margin-top:0">Objetivos de aprendizado</h2>
          <p><strong>Ao final desta li√ß√£o, voc√™ ser√° capaz de:</strong></p>
          <ul>
            <li>Entender o conceito de macro e por que ele impulsiona a produtividade.</li>
            <li>Criar comandos simples como atalhos de texto e s√≠mbolos.</li>
            <li>Desenvolver comandos com um ou mais argumentos.</li>
            <li>Diferenciar <code>\newcommand</code>, <code>\renewcommand</code> e <code>\providecommand</code>.</li>
            <li>Identificar e corrigir erros comuns em defini√ß√£o/uso de macros.</li>
          </ul>
        </section>

        <section class="functionality-showcase">
          <h3 id="sec-por-que-dry">Por que macros? O princ√≠pio do <em>DRY</em></h3>
          <p>Se voc√™ precisa repetir ‚ÄúUniversidade Federal do Paran√°, Setor de Tecnologia‚Äù dezenas de vezes, crie um atalho e mantenha tudo consistente. Trocas futuras viram uma simples edi√ß√£o.</p>
        </section>

        <!-- DRY E MOTIVA√á√ÉO (ACRESCENTADO) -->
        <section class="functionality-showcase">
          <h3 id="sec-problema-repeticao">O problema da repeti√ß√£o manual</h3>
          <ul>
            <li><strong>Inefici√™ncia:</strong> desperd√≠cio de tempo e esfor√ßo.</li>
            <li><strong>Risco de erro:</strong> inconsist√™ncias e typos.</li>
            <li><strong>Manuten√ß√£o dif√≠cil:</strong> altera√ß√µes exigem "procurar e substituir" por todo o documento.</li>
          </ul>
          <p>A solu√ß√£o √© o princ√≠pio <strong>DRY</strong>. Em LaTeX, implementamos via <em>macros</em>: atalhos definidos uma √∫nica vez e reutilizados com seguran√ßa.</p>
        </section>

        <section>
          <h2 id="sec-1-newcommand">1) \newcommand ‚Äî Crie seus pr√≥prios comandos</h2>
          <p><strong>O qu√™?</strong> Define um novo comando.</p>
          <p><strong>Como?</strong> <span class="latex-command">\newcommand{\nomeDoNovoComando}{conteudo}</span></p>
          <ul>
            <li><code>\nomeDoNovoComando</code>: seu atalho (sempre come√ßa com \). N√£o pode colidir com comandos existentes.</li>
            <li><code>conteudo</code>: o texto/c√≥digo inserido quando o comando √© usado.</li>
            <li><strong>Onde definir?</strong> No pre√¢mbulo, para ficar dispon√≠vel em todo o documento.</li>
          </ul>

          <h4 class="text-accent-primary">Exemplo 1 ‚Äî Atalho para texto longo</h4>
          <div class="code-block">
            <button class="copy-button" onclick="navigator.clipboard.writeText(this.nextElementSibling.textContent)">Copiar</button>
            <pre><code>% No Pre√¢mbulo
\newcommand{\uff}{Universidade Federal Fluminense}

% No Corpo do Documento
Eu estudo na \uff. A \uff\ √© excelente.</code></pre>
          </div>

          <h4 class="text-accent-primary">Exemplo 2 ‚Äî Atalho para s√≠mbolo matem√°tico</h4>
          <p class="text-muted">Requer <code>amsmath</code>/<code>amssymb</code>.</p>
          <div class="code-block">
            <button class="copy-button" onclick="navigator.clipboard.writeText(this.nextElementSibling.textContent)">Copiar</button>
            <pre><code>% No Pre√¢mbulo
\newcommand{\R}{\mathbb{R}}

% No Corpo do Documento
O conjunto dos n√∫meros reais √© denotado por $\R$.</code></pre>
          </div>
        </section>

        <section>
          <h2 id="sec-2-args">2) Argumentos ‚Äî Flexibilizando seus comandos</h2>
          <p><strong>O qu√™?</strong> Cria comandos com 1 a 9 argumentos.</p>
          <p><strong>Como?</strong> <span class="latex-command">\newcommand{\nome}[num]{c√≥digo usando #1, #2, ...}</span></p>
          <ul>
            <li><code>[num]</code>: quantos argumentos (1‚Äì9).</li>
            <li><code>#1</code>, <code>#2</code>: placeholders substitu√≠dos pelos argumentos.</li>
          </ul>

          <h4 class="text-accent-primary">Exemplo com 1 argumento</h4>
          <p class="text-muted">Para usar <code>\textcolor</code>, inclua <code>\usepackage{xcolor}</code> no pre√¢mbulo.</p>
          <div class="code-block">
            <button class="copy-button" onclick="navigator.clipboard.writeText(this.nextElementSibling.textContent)">Copiar</button>
            <pre><code>% No Pre√¢mbulo
\newcommand{\destaque}[1]{\textbf{\textcolor{red}{#1}}}

% No Corpo do Documento
Aten√ß√£o: \destaque{N√£o esque√ßa a chave!}</code></pre>
          </div>

          <h4 class="text-accent-primary">Exemplo com 2 argumentos</h4>
          <div class="code-block">
            <button class="copy-button" onclick="navigator.clipboard.writeText(this.nextElementSibling.textContent)">Copiar</button>
            <pre><code>% No Pre√¢mbulo
\newcommand{\avalia}[2]{O aluno #1 recebeu a nota #2.}

% No Corpo do Documento
\avalia{Jo√£o Silva}{8.5}</code></pre>
          </div>
        </section>

        <!-- ESPA√áOS AP√ìS COMANDOS (ACRESCENTADO) -->
        <section>
          <h2 id="sec-3-spacing">3) Espa√ßamento ap√≥s comandos ‚Äî armadilha comum</h2>
          <p>O LaTeX consome o espa√ßo imediatamente ap√≥s um comando com nome de letras.</p>
          <div class="code-block">
            <button class="copy-button" onclick="navigator.clipboard.writeText(this.nextElementSibling.textContent)">Copiar</button>
            <pre><code>C√≥digo:   O sistema \LaTeX √© incr√≠vel.
Resultado: O sistema LaTeX√© incr√≠vel.  % espa√ßo "engolido"</code></pre>
          </div>
          <p><strong>Solu√ß√µes:</strong></p>
          <ul>
            <li><strong>Barra invertida + espa√ßo:</strong> <code>\LaTeX\ √© incr√≠vel.</code></li>
            <li><strong>Chaves vazias:</strong> <code>\LaTeX{} √© incr√≠vel.</code> (recomendada por legibilidade/robustez)</li>
          </ul>
        </section>

        <section>
          <h2 id="sec-4-renew-provide">4) \renewcommand e \providecommand ‚Äî quando usar</h2>
          <ul>
            <li><code>\newcommand</code>: seguro; erra se o comando j√° existir.</li>
            <li><code>\renewcommand</code>: redefinir comandos existentes ‚Äî use com cautela.</li>
            <li><code>\providecommand</code>: cria apenas se ainda n√£o existir ‚Äî √∫til em templates/pacotes.</li>
          </ul>
          <div class="code-block">
            <button class="copy-button" onclick="navigator.clipboard.writeText(this.nextElementSibling.textContent)">Copiar</button>
            <pre><code>% Exemplo (educativo, use com cuidado)
\renewcommand{\bfseries}{\itshape} % negrito vira it√°lico em todo o documento</code></pre>
          </div>
          <div class="code-block" style="margin-top: .75rem">
            <button class="copy-button" onclick="navigator.clipboard.writeText(this.nextElementSibling.textContent)">Copiar</button>
            <pre><code>% Exemplo de programa√ß√£o defensiva
\providecommand{\corDestaque}{red}
% O usu√°rio pode redefinir no pre√¢mbulo dele:
% \renewcommand{\corDestaque}{blue}</code></pre>
          </div>
        </section>

        <section>
          <h2 id="sec-5-erros">5) Erros comuns (e como resolver)</h2>
          <ul>
            <li><strong>"Control sequence ... already defined."</strong> ‚Äî voc√™ tentou definir com <code>\newcommand</code> algo que j√° existe. Se quer alterar, use <code>\renewcommand</code>; caso contr√°rio, escolha outro nome.</li>
            <li><strong>"Runaway argument?"</strong> ‚Äî geralmente falta fechar uma chave <code>}</code> ao usar o comando.</li>
            <li><strong>Espa√ßo ap√≥s comandos</strong> ‚Äî o LaTeX ignora espa√ßo logo ap√≥s comandos.
              <div class="code-block" style="margin-top:.5rem">
                <button class="copy-button" onclick="navigator.clipboard.writeText(this.nextElementSibling.textContent)">Copiar</button>
                <pre><code>Errado: Eu estudo na \uff e gosto.
Certo:  Eu estudo na \uff{} e gosto.
Ou:     Eu estudo na \uff\ e gosto.</code></pre>
              </div>
            </li>
          </ul>
        </section>

        <section class="functionality-showcase">
          <h2 id="sec-6-exercicios">6) Exerc√≠cios sugeridos</h2>
          <ol>
            <li><strong>B√°sico:</strong> crie <code>\ie</code> que imprime <em>i.e.,</em> em it√°lico, seguido de v√≠rgula e espa√ßo.</li>
            <li><strong>Intermedi√°rio:</strong> crie <code>\figref{#1}</code> que retorna <code>Figura~\ref{#1}</code>.</li>
            <li><strong>Desafio:</strong> crie <code>\revisao{#1}{#2}</code> ‚Äî #1 sai em azul, #2 vira uma nota de rodap√©. Dica: exija <code>xcolor</code> e use <code>\footnote</code> na defini√ß√£o.</li>
          </ol>

          <!-- DROPDOWNS DE RESOLU√á√ÉO (ACRESCENTADOS) -->
          <details>
            <summary>Ver solu√ß√£o ‚Äî Exerc√≠cio B√°sico</summary>
            <div class="code-block" style="margin-top:.75rem">
              <button class="copy-button" onclick="navigator.clipboard.writeText(this.nextElementSibling.textContent)">Copiar</button>
              <pre><code>% Pre√¢mbulo
\newcommand{\ie}{\textit{i.e.,\ }}

% Uso
Isso significa, \ie que ...</code></pre>
            </div>
          </details>

          <details>
            <summary>Ver solu√ß√£o ‚Äî Exerc√≠cio Intermedi√°rio</summary>
            <div class="code-block" style="margin-top:.75rem">
              <button class="copy-button" onclick="navigator.clipboard.writeText(this.nextElementSibling.textContent)">Copiar</button>
              <pre><code>% Pre√¢mbulo
\newcommand{\figref}[1]{Figura~\ref{#1}}

% Uso
...como mostra a \figref{fig:grafico}.</code></pre>
            </div>
          </details>

          <details>
            <summary>Ver solu√ß√£o ‚Äî Exerc√≠cio Desafio</summary>
            <div class="code-block" style="margin-top:.75rem">
              <button class="copy-button" onclick="navigator.clipboard.writeText(this.nextElementSibling.textContent)">Copiar</button>
              <pre><code>% Pre√¢mbulo (requer xcolor)
\usepackage{xcolor}
\newcommand{\revisao}[2]{\textcolor{blue}{#1}\footnote{#2}}

% Uso
\revisao{Esta frase pode ser melhorada}{Coment√°rio: verificar a fonte depois.}</code></pre>
            </div>
          </details>
        </section>

        <section class="functionality-showcase">
          <h2 id="sec-7-encerramento">7) Encerramento</h2>
          <p>Voc√™ viu como <code>\newcommand</code> eleva a produtividade e a qualidade do documento. Na pr√≥xima aula, vamos criar ambientes com <code>\newenvironment</code>.</p>
        </section>

        <!-- AVALIA√á√ÉO R√ÅPIDA (ACRESCENTADA) -->
        <section class="functionality-showcase">
          <h2 id="sec-8-avaliacao">8) Avalia√ß√£o r√°pida</h2>
          <ol>
            <li>
              Onde as defini√ß√µes de <code>\newcommand</code> devem ser colocadas?
              <details>
                <summary>Ver resposta</summary>
                <p class="text-muted" style="margin-top:.5rem">No pre√¢mbulo do documento, para ficarem dispon√≠veis globalmente.</p>
              </details>
            </li>
            <li>
              Qual comando voc√™ usaria para alterar o que <code>\today</code> faz?
              <details>
                <summary>Ver resposta</summary>
                <p class="text-muted" style="margin-top:.5rem"><code>\renewcommand</code>, pois estamos redefinindo um comando existente.</p>
              </details>
            </li>
            <li>
              Qual √© o problema em <code>\LaTeX √© bom</code> e como corrigir?
              <details>
                <summary>Ver resposta</summary>
                <p class="text-muted" style="margin-top:.5rem">O espa√ßo √© engolido ap√≥s o comando. Corrija com <code>\LaTeX{}</code> ou <code>\LaTeX\</code>.</p>
              </details>
            </li>
          </ol>
        </section>

        <!-- PR√ÅTICA R√ÅPIDA: snippet m√≠nimo para Overleaf/local (sem pacotes novos al√©m de amssymb) -->
        <section class="functionality-showcase">
          <h2 id="sec-9-pratica">9) Pr√°tica r√°pida</h2>
          <p>Copie o exemplo m√≠nimo abaixo para testar imediatamente no Overleaf ou no seu ambiente local:</p>
          <div class="code-block">
            <button class="copy-button" onclick="navigator.clipboard.writeText(this.nextElementSibling.textContent)">Copiar</button>
            <pre><code>\documentclass[a4paper,11pt]{article}
% Pacote permitido (j√° usado anteriormente)
\usepackage{amssymb}

% Defini√ß√µes de comandos desta aula
\newcommand{\uff}{Universidade Federal Fluminense}
\newcommand{\R}{\mathbb{R}}
\newcommand{\ie}{\textit{i.e.,\ }}
\newcommand{\figref}[1]{Figura~\ref{#1}}

\begin{document}

Estudo na \uff{}. O conjunto $\R$ √© infinito, \ie, n√£o √© enumer√°vel.

% Exemplo com dois argumentos
\newcommand{\avalia}[2]{O aluno #1 recebeu a nota #2.}
\avalia{Jo√£o Silva}{8.5}

\end{document}</code></pre>
          </div>
        </section>
      </article>
      <nav id="pager" class="pager" aria-label="Navega√ß√£o entre p√°ginas"></nav>
    </main>
  </div>
  <script src="../../assets/js/app.js" defer></script>
</body>
</html>
 
